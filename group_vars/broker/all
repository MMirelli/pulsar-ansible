#
#  Pulsar broker specific settings
# -------------------------------------------
#
broker_conf_file: "{{ tgt_pulsar_inst_dir }}/conf/broker.conf"
broker_func_worker_file: "{{ tgt_pulsar_inst_dir }}/conf/functions_worker.yml"
pulsar_mem_broker: "-Xms4g -Xmx4g -XX:MaxDirectMemorySize=8g"

broker_svc_port: 6650
broker_svc_port_tls: 6651
# Broker metrics are also exposed at port 8080, at path "/metrics"
web_svc_port: 8080
web_svc_port_tls: 8443

# extra JVM options to start bookkeepers
broker_jvm_options: > 
  {% if customize_jvm is defined and customize_jvm|bool %}PULSAR_MEM="{{ pulsar_mem_broker }}" {% endif %}
  PULSAR_LOG_DIR="{{ tgt_pulsar_log_homedir }}"

# whether or not to use customized message replication settings (E/Qw/Qa)
force_message_rf_setting: false
cust_ensemble_size: 2
cust_write_quorum: 1
cust_ack_quorum: 1


#
#  Pulsar broker security related settings
# -------------------------------------------
#

###
# NOTE: please be careful with 2 settings. 
#       - if these variables are set to true, existing server side JWT token 
#         and/or TLS certificate files could be replaced by new ones, which
#         may cause interruption of existing client connections. 
#       - by default, these 2 settings should be always set as false!
# - Whehter or not to force replacing the existing Pulsar server side JWT token files
force_existing_brkr_jwt_token: false
# - Whehter or not to force replacing the existing Pulsar server side TLS certificate files
force_existing_brkr_tls_certs: false


##
# Other configuration items
forceDeleteTenantAllowed: false           # default false
forceDeleteNamespaceAllowed: false        # default false
brokerDeleteInactiveTopicsEnabled: true   # default true 
topicFencingTimeoutSeconds: 5             # default 0